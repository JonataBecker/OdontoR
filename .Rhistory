pct_treinamento = 0.8
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
library(class)
library(rpart)
library(rpart.plot)
source("prepara_dataset.r")
source("functions.r")
all_results = data.frame()
summary(data$falha)
pct_treinamento = 0.8
atributos = c("sexo.n", "idade", "tipo.invervencao.n", "motivo.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente.n", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("atributos numericos", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo.n", "idade", "tipo.invervencao.n", "motivo.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente.n", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
classe = "status"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("atributos numericos", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo.n", "idade", "tipo.invervencao.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente.n", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
classe = "status"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo", "idade", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal", "superficie.vestibular", "superficie.oclusal.incisal", "superficie.mesial", "superficie.distal")
classe = "status"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "status"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
library(rpart)
library(rpart.plot)
source("prepara_dataset.r")
source("functions.r")
all_results = data.frame()
summary(data$falha)
library(class)
library(rpart)
library(rpart.plot)
source("prepara_dataset.r")
setwd("~/Documents/R/OdontoR")
source("prepara_dataset.r")
source("functions.r")
all_results = data.frame()
summary(data$falha)
pct_treinamento = 0.8
atributos = c("sexo.n", "idade", "tipo.invervencao.n", "motivo.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente.n", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("atributos numericos", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo.n", "idade", "tipo.invervencao.n", "motivo.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente.n", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
classe = "status"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("atributos numericos", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo.n", "idade", "tipo.invervencao.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente.n", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
classe = "status"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo", "idade", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal", "superficie.vestibular", "superficie.oclusal.incisal", "superficie.mesial", "superficie.distal")
classe = "status"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "status"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.8
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
pct_treinamento = 0.6
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
pct_treinamento = 0.3
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
summary(data$superficie.distal)
all_results
pct_treinamento = 0.5
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
summary(data$superficie.distal)
all_results
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
summary(data$superficie.distal)
all_results
pct_treinamento = 0.75
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
summary(data$superficie.distal)
all_results
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
summary(data$superficie.distal)
all_results
library(class)
library(rpart)
library(rpart.plot)
source("prepara_dataset.r")
source("functions.r")
all_results = data.frame()
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente",  "tipo.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
summary(data$superficie.distal)
all_results
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "vitalidade" "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "vitalidade", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
summary(data$classel)
summary(data$classe)
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "classe", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "classe", "vitalidade", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
install.packages("neuralnet")
library(neuralnet)
source("prepara_dataset.r")
columns = c("status", "sexo.n", "idade", "tipo.invervencao.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
columns = match(columns, names(data))
columns = columns[!is.na(columns)]
columns = as.numeric(columns)
processed = data[, columns]
processed = processed[complete.cases(processed),]
t = nrow(processed)
n = t * 0.8
nn <- neuralnet(falha~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+tipo.dente+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,], hidden=7,threshold =1,stepmax= maxit)
nn <- neuralnet(falha~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+tipo.dente+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,], hidden=7,threshold =1)
columns = c("falha", "sexo.n", "idade", "tipo.invervencao.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
columns = match(columns, names(data))
columns = columns[!is.na(columns)]
columns = as.numeric(columns)
processed = data[, columns]
processed = processed[complete.cases(processed),]
t = nrow(processed)
n = t * 0.8
processed$status = as.factor(processed$status)
nrow(processed)
summary(processed$status)
modelo <- rpart(status~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+tipo.dente+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,],
method="class",
control=rpart.control(cp=0.0001),
parms=list(split="Information"))
modelo
arvore_decisao <- rpart.plot(modelo, type = 3)
classe_estimada <- predict(modelo, processed[n:t,], "class")
nn <- neuralnet(falha~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+tipo.dente+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,], hidden=7,threshold =1)
nn <- neuralnet(falha~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+tipo.dente+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,])
nn <- neuralnet(falha~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+tipo.dente.n+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,])
nn <- neuralnet(falha~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,])
nn <- neuralnet(falha~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
nn <- neuralnet(falha~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
source("prepara_dataset.r")
columns = c("falha.n", "sexo.n", "idade", "tipo.invervencao.n", "novo.restauracao.n", "numero.dente.n", "tipo.dente", "arcada.n", "lado.n", "tipo.restauracao.n", "material.restauracao.n", "superficie.lingual.palatal.n", "superficie.vestibular.n", "superficie.oclusal.incisal.n", "superficie.mesial.n", "superficie.distal.n")
columns = match(columns, names(data))
columns = columns[!is.na(columns)]
columns = as.numeric(columns)
processed = data[, columns]
processed = processed[complete.cases(processed),]
t = nrow(processed)
n = t * 0.8
processed$status = as.factor(processed$status)
nrow(processed)
summary(processed$status)
modelo <- rpart(status~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+tipo.dente+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,],
method="class",
control=rpart.control(cp=0.0001),
parms=list(split="Information"))
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
plot(nn)
previsao<-compute(nn,processed[n:t,])
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
previsao<-compute(nn,processed[n:t,])
columns = c("falha.n~sexo.n","tipo.invervencao.n","novo.restauracao.n")
columns = match(columns, names(data))
columns = columns[!is.na(columns)]
columns = as.numeric(columns)
processed = data[, columns]
processed = processed[complete.cases(processed),]
t = nrow(processed)
n = t * 0.8
processed$status = as.factor(processed$status)
nrow(processed)
summary(processed$status)
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
columns = c("falha.n", "sexo.n","tipo.invervencao.n","novo.restauracao.n")
columns = match(columns, names(data))
columns = columns[!is.na(columns)]
columns = as.numeric(columns)
processed = data[, columns]
processed = processed[complete.cases(processed),]
t = nrow(processed)
n = t * 0.8
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
previsao<-compute(nn,processed[n:t,])
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
previsao<-compute(nn,processed[n:t,])
processed[1:n,]
previsao<-compute(nn,processed[n:t,])
nn
previsao<-compute(nn,processed[n:t,][,1:4])
previsao<-compute(nn,as.data.frame(processed[n:t,]))
previsao<-compute(nn,processed[n:t])
processed[n:t,]
processed[n:t,]
processed[n:t,][1:4]
processed[n:t,][1:4]
names(processed[n:t,][1:4])
previsao<-compute(nn,names(processed[n:t,][1:4]))
previsao<-compute(nn,infert[,names(processed[n:t,][1:4])))
plot(nn)
previsao<-compute(nn,infert[,names(processed[n:t,][1:4])))
plot(nn)
previsao<-compute(nn,infert[,names(processed[n:t,][1:4])))
plot(nn)
previsao<-compute(nn,infert[,names(processed[n:t,][1:4])))
plot(nn)
previsao<-compute(nn,infert[,names(processed[n:t,][1:4])))
plot(nn)
plot(nn)
previsao
previsao<-compute(nn,infert[,names(processed[n:t,][1:4]))
plot(nn)
previsao
previsao<-compute(nn,processed[1:n,][,names(processed[n:t,][1:4]))
plot(nn)
previsao<-compute(nn,processed[1:n,])
names(processed[n:t,][1:4])
tttt <- processed[1:n,]
tttt[,names(processed[n:t,][1:4])
previsao<-compute(nn,tttt[,names(processed[n:t,][1:4]))
plot(nn)
tttt[0,names(processed[n:t,][1:4])
previsao<-compute(nn,tttt[,names(processed[n:t,][1:4]))
plot(nn)
tttt[0,names(processed[n:t,][1:4])
previsao<-compute(nn,tttt[,names(processed[n:t,][1:4]))
plot(nn)
nn
processed[n:t,][,1:4]
processed[n:t,][,2:4]
comput(nn, processed[n:t,][,2:4])
compute(nn, processed[n:t,][,2:4])
compute(nn, processed[n:t,][,2:4])
plot(nn)
previsao$net.result
previsao <- compute(nn, processed[n:t,][,2:4])
previsao$net.result
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
columns = c("falha", "sexo.n","tipo.invervencao.n","novo.restauracao.n")
columns = match(columns, names(data))
columns = columns[!is.na(columns)]
columns = as.numeric(columns)
processed = data[, columns]
processed = processed[complete.cases(processed),]
t = nrow(processed)
n = t * 0.8
processed$status = as.factor(processed$status)
nrow(processed)
summary(processed$status)
modelo <- rpart(status~sexo.n+idade+tipo.invervencao.n+novo.restauracao.n+numero.dente.n+tipo.dente+arcada.n+lado.n+tipo.restauracao.n+material.restauracao.n+superficie.lingual.palatal.n+superficie.vestibular.n+superficie.oclusal.incisal.n+superficie.mesial.n+superficie.distal.n,
data=processed[1:n,],
method="class",
control=rpart.control(cp=0.0001),
parms=list(split="Information"))
nn <- neuralnet(falha~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
source("prepara_dataset.r")
data$falha = as.factor(data$falha.n)
columns = c("falha", "sexo.n","tipo.invervencao.n","novo.restauracao.n")
columns = match(columns, names(data))
columns = columns[!is.na(columns)]
columns = as.numeric(columns)
processed = data[, columns]
processed = processed[complete.cases(processed),]
t = nrow(processed)
n = t * 0.8
processed$status = as.factor(processed$status)
nn <- neuralnet(falha~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,], hidden=7)
source("prepara_dataset.r")
columns = c("falha.n", "sexo.n","tipo.invervencao.n","novo.restauracao.n")
columns = match(columns, names(data))
columns = columns[!is.na(columns)]
columns = as.numeric(columns)
processed = data[, columns]
processed = processed[complete.cases(processed),]
t = nrow(processed)
n = t * 0.8
processed$status = as.factor(processed$status)
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,], hidden=7)
previsao <- compute(nn, processed[n:t,][,2:4])
previsao$net.result
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,], hidden=7, linear.output=T)
previsao <- compute(nn, processed[n:t,][,2:4])
previsao$net.result
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,], hidden=7, linear.output=TRUE)
previsao <- compute(nn, processed[n:t,][,2:4])
previsao$net.result
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,], hidden=7, linear.output=FALSE)
previsao <- compute(nn, processed[n:t,][,2:4])
previsao$net.result
apply(previsao$net.result, 1, 2)
apply(previsao$net.result, 1, max)
apply(previsao$net.result, 1, max)
sum(processed[n:t,]$status == previsao$net.result) / (t - n)
sum(processed[n:t,]$status == apply(previsao$net.result, 1, max)) / (t - n)
previsao$net.result
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,], linear.output=FALSE)
previsao <- compute(nn, processed[n:t,][,2:4])
previsao$net.result
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
previsao <- compute(nn, processed[n:t,][,2:4])
previsao$net.result
apply(previsao$net.result, 1, max)
previsao$net.result
previsao <- compute(nn, processed[n:t,][,2:4])
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,])
nn <- neuralnet(falha.n~sexo.n+tipo.invervencao.n+novo.restauracao.n,
data=processed[1:n,], hidden=5)
previsao <- compute(nn, processed[n:t,][,2:4])
previsao$net.result
source("prepara_dataset.r")
source("functions.r")
all_results = data.frame()
summary(data$falha)
pct_treinamento = 0.7
atributos = c("sexo", "idade.ag", "classe", "vitalidade", "tipo.invervencao", "novo.restauracao", "numero.dente", "tipo.dente", "arcada", "lado", "tipo.restauracao", "material.restauracao", "superficie.lingual.palatal.fc", "superficie.vestibular.fc", "superficie.oclusal.incisal.fc", "superficie.mesial.fc", "superficie.distal.fc")
classe = "falha"
metodo_na = "complete.cases"
all_results = rbind(all_results, test_rpart("Sem motivo - fatory - Idade com agrupamento", pct_treinamento, atributos, classe, metodo_na))
all_results
